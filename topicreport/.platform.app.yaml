name: app

type: 'python:3.11'

disk: 2048

hooks:
    build: |
      pip install -r requirements.txt
      python manage.py collectstatic --noinput

web:
    commands:
        start: "gunicorn -w 4 -b localhost:8000 topicreport.wsgi:application"
    locations:
        "/":
            passthru: true
        "/static":
            root: "static"
            expires: 1h
            allow: true

mounts:
  '/static':
    source: local
    source_path: 'core/static'
